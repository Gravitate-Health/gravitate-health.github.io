"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[293],{6719:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>s});const o=JSON.parse('{"id":"tutorial-connector/Develop a Custom Pull Connector","title":"Develop a Custom Pull Connector","description":"Create a project","source":"@site/docs/tutorial-connector/3 - Develop a Custom Pull Connector.md","sourceDirName":"tutorial-connector","slug":"/tutorial-connector/Develop a Custom Pull Connector","permalink":"/docs/tutorial-connector/Develop a Custom Pull Connector","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-connector/3 - Develop a Custom Pull Connector.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Creating a Connector","permalink":"/docs/tutorial-connector/Creating a Connector"},"next":{"title":"Deploying your Connector","permalink":"/docs/tutorial-connector/Deploying your Connector"}}');var r=n(4848),i=n(8453);const l={},a="Develop a Custom Pull Connector",c={},s=[{value:"Create a project",id:"create-a-project",level:2},{value:"Generate the stub server",id:"generate-the-stub-server",level:2},{value:"Implement Services",id:"implement-services",level:2},{value:"Key Endpoints to Implement",id:"key-endpoints-to-implement",level:3},{value:"Generate Docker image",id:"generate-docker-image",level:2},{value:"Create Dockerfile",id:"create-dockerfile",level:3},{value:"Build the Image",id:"build-the-image",level:3},{value:"Helm chart",id:"helm-chart",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"develop-a-custom-pull-connector",children:"Develop a Custom Pull Connector"})}),"\n",(0,r.jsx)(t.h2,{id:"create-a-project",children:"Create a project"}),"\n",(0,r.jsx)(t.admonition,{title:"Getting Started",type:"tip",children:(0,r.jsx)(t.p,{children:"Select your language, and project management tool(s), create a project with them."})}),"\n",(0,r.jsx)(t.admonition,{title:"Tutorial Example",type:"note",children:(0,r.jsx)(t.p,{children:"For purposes of this tutorial, we will proceed with a Node.js/JavaScript example."})}),"\n",(0,r.jsx)(t.h2,{id:"generate-the-stub-server",children:"Generate the stub server"}),"\n",(0,r.jsx)(t.admonition,{title:"OpenAPI Specification",type:"info",children:(0,r.jsx)(t.p,{children:"Because the connector must follow the OpenAPI specification to interface with FOSPS, one of the easiest ways to start is to use tools to generate the appropriate REST implementation with empty code (a.k.a Stub). From there then implement each service."})}),"\n",(0,r.jsxs)(t.p,{children:["For the purposes of this tutorial we will use ",(0,r.jsx)(t.a,{href:"https://openapi-generator.tech/",children:"OpenAPI Generator"})," tool."]}),"\n",(0,r.jsx)(t.admonition,{title:"Comming Soon",type:"caution",children:(0,r.jsx)(t.p,{children:"The code to generate a connector from the OpenAPI specification will be published soon."})}),"\n",(0,r.jsx)(t.h2,{id:"implement-services",children:"Implement Services"}),"\n",(0,r.jsx)(t.admonition,{title:"Implementation",type:"tip",children:(0,r.jsx)(t.p,{children:"Implement each service endpoint according to your connector's requirements. The stub code provides the structure, and you add the business logic."})}),"\n",(0,r.jsx)(t.h3,{id:"key-endpoints-to-implement",children:"Key Endpoints to Implement"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Resource retrieval endpoints"}),": Fetch data from TSI"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Search endpoints"}),": Query and filter resources"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Metadata endpoints"}),": Provide connector capabilities"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"generate-docker-image",children:"Generate Docker image"}),"\n",(0,r.jsx)(t.admonition,{title:"Docker Containerization",type:"info",children:(0,r.jsxs)(t.p,{children:["If you are familiar with ",(0,r.jsx)(t.a,{href:"https://www.docker.com/",children:"Docker"}),", this step should be straightforward."]})}),"\n",(0,r.jsx)(t.h3,{id:"create-dockerfile",children:"Create Dockerfile"}),"\n",(0,r.jsxs)(t.p,{children:["First create a ",(0,r.jsx)(t.code,{children:"Dockerfile"})," file in your project, it should look something like:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dockerfile",children:'FROM node:20-alpine\nWORKDIR /app\nCOPY . .\nRUN yarn install --production\nCMD ["node", "./src/index.js"]\n'})}),"\n",(0,r.jsx)(t.h3,{id:"build-the-image",children:"Build the Image"}),"\n",(0,r.jsx)(t.p,{children:"Then generate the image with:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker build -t my-connector .\n"})}),"\n",(0,r.jsx)(t.admonition,{title:"Important",type:"warning",children:(0,r.jsxs)(t.p,{children:["Change the tag (the parameter after ",(0,r.jsx)(t.code,{children:"-t"}),"), remember the tag for later, as it is needed by FOSPS to deploy the connector."]})}),"\n",(0,r.jsx)(t.h2,{id:"helm-chart",children:"Helm chart"}),"\n",(0,r.jsx)(t.admonition,{title:"Coming Soon",type:"caution",children:(0,r.jsx)(t.p,{children:"Helm chart configuration details will be added in a future version of this documentation."})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>a});var o=n(6540);const r={},i=o.createContext(r);function l(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);