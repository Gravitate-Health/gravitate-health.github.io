"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[661],{7375:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"tutorial-Lens/Implementation strategies","title":"Basic lens structure","description":"Functions interface","source":"@site/docs/tutorial-Lens/3 - Implementation strategies.md","sourceDirName":"tutorial-Lens","slug":"/tutorial-Lens/Implementation strategies","permalink":"/docs/tutorial-Lens/Implementation strategies","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-Lens/3 - Implementation strategies.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"FHIR metadata","permalink":"/docs/tutorial-Lens/FHIR metadata"},"next":{"title":"Deploying your lens","permalink":"/docs/tutorial-Lens/Deploying your lens"}}');var s=t(4848),r=t(8453);const a={},o="Basic lens structure",c={},l=[{value:"Functions interface",id:"functions-interface",level:2},{value:"Use of Regular Expressions",id:"use-of-regular-expressions",level:2},{value:"DOM Manipulation",id:"dom-manipulation",level:2},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Testing and Validation",id:"testing-and-validation",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"basic-lens-structure",children:"Basic lens structure"})}),"\n",(0,s.jsx)(n.h2,{id:"functions-interface",children:"Functions interface"}),"\n",(0,s.jsx)(n.p,{children:"A Lens is a JavaScript program that defines how to transform an ePI document. The basic structure of a Lens includes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enhance function (mandatory)"}),": This function takes the original ePI content as input and returns the transformed content. It is where you define how to modify the ePI."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Report function (optional)"}),": This function generates a report of the changes made by the enhance function. It can be used for logging or debugging purposes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Explanation function (optional)"}),": This function provides a human-readable explanation of the changes made by the enhance function. It can be useful for users to understand what modifications were applied."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Here is a simple example of a Lens structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function enhance(originalContent) {\n    // Your transformation logic here\n    return transformedContent;\n}\n\nfunction report(changes) {\n    // Your reporting logic here\n    return reportData;\n}\n\nfunction explanation() {\n    // Your explanation logic here\n    return explanationText;\n}\n\nreturn {\n    enhance: enhance,\n    report: report,\n    explanation: explanation\n};\n"})}),"\n",(0,s.jsx)(n.h1,{id:"implementation-strategies",children:"Implementation strategies"}),"\n",(0,s.jsx)(n.p,{children:"When implementing a Lens, consider the following strategies to ensure it is effective and efficient:"}),"\n",(0,s.jsx)(n.h2,{id:"use-of-regular-expressions",children:"Use of Regular Expressions"}),"\n",(0,s.jsx)(n.p,{children:"Regular expressions are powerful tools for pattern matching and text manipulation. They can be used to identify specific sections of the ePI that need to be modified. For example, you can use regular expressions to find all instances of a particular term or phrase and replace them with a highlighted version."}),"\n",(0,s.jsx)(n.h2,{id:"dom-manipulation",children:"DOM Manipulation"}),"\n",(0,s.jsx)(n.p,{children:"If the ePI content is structured as HTML, you can use DOM manipulation techniques to traverse and modify the document. This allows for more precise control over the elements being changed, such as adding classes or attributes to specific tags."}),"\n",(0,s.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,s.jsx)(n.p,{children:"Lenses should be designed to run efficiently, especially if they are executed on client devices with limited resources. Avoid complex computations and ensure that the enhance function executes quickly. Consider using pre-processors for any heavy computational tasks that can be done before the Lens is applied."}),"\n",(0,s.jsx)(n.h2,{id:"testing-and-validation",children:"Testing and Validation"}),"\n",(0,s.jsx)(n.p,{children:"TBD"})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);