"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1290],{362:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"metrics","title":"Metrics Management","description":"The Metric Management System is the subsystem used for collecting, storing, processing, and monitoring technical Key Performance Indicators (KPIs) and logs in real-time to ensure FOSPS system health.","source":"@site/ref/metrics.md","sourceDirName":".","slug":"/metrics","permalink":"/reference/metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/ref/metrics.md","tags":[{"inline":true,"label":"monitoring","permalink":"/reference/tags/monitoring"},{"inline":true,"label":"grafana","permalink":"/reference/tags/grafana"},{"inline":true,"label":"prometheus","permalink":"/reference/tags/prometheus"},{"inline":true,"label":"observability","permalink":"/reference/tags/observability"}],"version":"current","sidebarPosition":46,"frontMatter":{"sidebar_position":46,"title":"Metrics Management","tags":["monitoring","grafana","prometheus","observability"]},"sidebar":"tutorialSidebar","previous":{"title":"Keycloak","permalink":"/reference/keycloak"},"next":{"title":"Focusing Inspector","permalink":"/reference/focusing-inspector"}}');var s=r(4848),l=r(8453);const t={sidebar_position:46,title:"Metrics Management",tags:["monitoring","grafana","prometheus","observability"]},c="Metric Management System (Grafana/Prometheus/Loki Stack)",o={},a=[{value:"Purpose",id:"purpose",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Prometheus",id:"prometheus",level:3},{value:"Grafana",id:"grafana",level:3},{value:"Loki",id:"loki",level:3},{value:"Monitored Metrics",id:"monitored-metrics",level:2},{value:"Platform Metrics",id:"platform-metrics",level:3},{value:"Component-Specific",id:"component-specific",level:3},{value:"Focusing Manager",id:"focusing-manager",level:4},{value:"FHIR Server",id:"fhir-server",level:4},{value:"Connectors",id:"connectors",level:4},{value:"LEE",id:"lee",level:4},{value:"Log Aggregation",id:"log-aggregation",level:2},{value:"Dashboards",id:"dashboards",level:2},{value:"Alerting",id:"alerting",level:2},{value:"Access Control",id:"access-control",level:2},{value:"Integration",id:"integration",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"metric-management-system-grafanaprometheusloki-stack",children:"Metric Management System (Grafana/Prometheus/Loki Stack)"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Metric Management System"})," is the subsystem used for collecting, storing, processing, and monitoring technical Key Performance Indicators (KPIs) and logs in real-time to ensure ",(0,s.jsx)(n.a,{href:"/reference/fosps",children:"FOSPS"})," system health."]}),"\n",(0,s.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,s.jsx)(n.p,{children:"Provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"System Monitoring"}),": Real-time platform health"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Tracking"}),": Response times, throughput"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resource Usage"}),": CPU, memory, storage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Log Aggregation"}),": Centralized log collection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Alerting"}),": Proactive issue notification"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualization"}),": Customizable dashboards"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,s.jsx)(n.h3,{id:"prometheus",children:"Prometheus"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metrics collection and storage"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Time-series database"}),"\n",(0,s.jsx)(n.li,{children:"Pull-based metrics scraping"}),"\n",(0,s.jsx)(n.li,{children:"PromQL query language"}),"\n",(0,s.jsx)(n.li,{children:"Alert rule engine"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"grafana",children:"Grafana"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Visualization and dashboards"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Customizable dashboards"}),"\n",(0,s.jsx)(n.li,{children:"Real-time graphs"}),"\n",(0,s.jsx)(n.li,{children:"Multi-datasource support"}),"\n",(0,s.jsx)(n.li,{children:"Alert visualization"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"loki",children:"Loki"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Log aggregation"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Distributed log collection"}),"\n",(0,s.jsx)(n.li,{children:"LogQL query language"}),"\n",(0,s.jsx)(n.li,{children:"Integration with Grafana"}),"\n",(0,s.jsx)(n.li,{children:"Cost-effective storage"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"monitored-metrics",children:"Monitored Metrics"}),"\n",(0,s.jsx)(n.h3,{id:"platform-metrics",children:"Platform Metrics"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Service availability/uptime"}),"\n",(0,s.jsx)(n.li,{children:"Request rates and latency"}),"\n",(0,s.jsx)(n.li,{children:"Error rates and types"}),"\n",(0,s.jsx)(n.li,{children:"Resource utilization"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"component-specific",children:"Component-Specific"}),"\n",(0,s.jsx)(n.h4,{id:"focusing-manager",children:"Focusing Manager"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/focusing",children:"Focusing"})," requests per minute"]}),"\n",(0,s.jsx)(n.li,{children:"Average focusing duration"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/preprocessor",children:"Preprocessor"})," execution times"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/lens",children:"Lens"})," selection patterns"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"fhir-server",children:"FHIR Server"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Query performance"}),"\n",(0,s.jsx)(n.li,{children:"Resource creation/update rates"}),"\n",(0,s.jsx)(n.li,{children:"Storage usage"}),"\n",(0,s.jsx)(n.li,{children:"Connection pool status"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"connectors",children:"Connectors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"External source response times"}),"\n",(0,s.jsx)(n.li,{children:"Retrieval success/failure rates"}),"\n",(0,s.jsx)(n.li,{children:"Cache hit ratios"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"lee",children:"LEE"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/lens",children:"Lens"})," execution duration"]}),"\n",(0,s.jsx)(n.li,{children:"Memory usage per execution"}),"\n",(0,s.jsx)(n.li,{children:"Concurrent execution count"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"log-aggregation",children:"Log Aggregation"}),"\n",(0,s.jsx)(n.p,{children:"Collects logs from:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All ",(0,s.jsx)(n.a,{href:"/reference/architectural-layers",children:"FOSPS architectural layers"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/kubernetes-deployment",children:"Kubernetes"})," pods"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/istio",children:"Istio"})," service mesh"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/audit-log",children:"Audit Log"})," (for monitoring, not storage)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"dashboards",children:"Dashboards"}),"\n",(0,s.jsx)(n.p,{children:"Pre-configured dashboards for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Platform Overview"}),": System-wide health"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Service Health"}),": Per-component metrics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Experience"}),": Response times, error rates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Security"}),": Failed authentication, suspicious activity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Capacity Planning"}),": Resource trends"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"alerting",children:"Alerting"}),"\n",(0,s.jsx)(n.p,{children:"Alerts configured for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Service downtime"}),"\n",(0,s.jsx)(n.li,{children:"High error rates"}),"\n",(0,s.jsx)(n.li,{children:"Performance degradation"}),"\n",(0,s.jsx)(n.li,{children:"Resource exhaustion"}),"\n",(0,s.jsx)(n.li,{children:"Security events"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Notifications sent via:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Email"}),"\n",(0,s.jsx)(n.li,{children:"Slack/Teams"}),"\n",(0,s.jsx)(n.li,{children:"PagerDuty"}),"\n",(0,s.jsx)(n.li,{children:"Webhooks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"access-control",children:"Access Control"}),"\n",(0,s.jsxs)(n.p,{children:["Dashboard access restricted by ",(0,s.jsx)(n.a,{href:"/reference/keycloak",children:"Keycloak"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Administrators: Full access"}),"\n",(0,s.jsx)(n.li,{children:"Developers: Read-only"}),"\n",(0,s.jsx)(n.li,{children:"Service accounts: API access"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/kubernetes-deployment",children:"Kubernetes"})}),": Pod metrics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/istio",children:"Istio"})}),": Service mesh telemetry"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/audit-log",children:"Audit Log"})}),": Security event correlation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/openapi",children:"OpenAPI"})}),": API performance tracking"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/fosps",children:"FOSPS"})," - Monitored platform"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/architectural-layers",children:"Architectural Layers"})," - Monitored components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/audit-log",children:"Audit Log"})," - Security logging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/keycloak",children:"Keycloak"})," - Access control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/kubernetes-deployment",children:"Kubernetes"})," - Deployment platform"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var i=r(6540);const s={},l=i.createContext(s);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);