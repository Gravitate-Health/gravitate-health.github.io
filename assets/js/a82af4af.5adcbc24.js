"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1136],{2614:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tutorial-Lens/Template Lens","title":"Getting Started with Lens Development","description":"The fastest way to start developing a Lens is to use the official lens-template repository. This template provides a minimal working lens with a complete test suite to validate your lens implementation.","source":"@site/docs/tutorial-Lens/1 - Template Lens.md","sourceDirName":"tutorial-Lens","slug":"/tutorial-Lens/Template Lens","permalink":"/docs/tutorial-Lens/Template Lens","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-Lens/1 - Template Lens.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs/tutorial-Lens/Introduction"},"next":{"title":"FHIR Metadata","permalink":"/docs/tutorial-Lens/FHIR metadata"}}');var i=t(4848),r=t(8453);const l={},o="Getting Started with Lens Development",a={},c=[{value:"Step 1: Fork the Template Repository",id:"step-1-fork-the-template-repository",level:2},{value:"What&#39;s Included in the Template",id:"whats-included-in-the-template",level:2},{value:"Minimal Lens Implementation",id:"minimal-lens-implementation",level:3},{value:"Comprehensive Test Suite",id:"comprehensive-test-suite",level:3},{value:"1. Content Preservation Tests",id:"1-content-preservation-tests",level:4},{value:"2. Sample Test Data",id:"2-sample-test-data",level:4},{value:"3. Custom Test Functions",id:"3-custom-test-functions",level:4},{value:"Running Tests",id:"running-tests",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"getting-started-with-lens-development",children:"Getting Started with Lens Development"})}),"\n",(0,i.jsx)(n.admonition,{title:"Quick Start",type:"tip",children:(0,i.jsxs)(n.p,{children:["The fastest way to start developing a ",(0,i.jsx)(n.a,{href:"/reference/lens",children:"Lens"})," is to use the official ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://github.com/Gravitate-Health/lens-template",children:"lens-template"})})," repository. This template provides a minimal working lens with a complete test suite to validate your lens implementation."]})}),"\n",(0,i.jsx)(n.h2,{id:"step-1-fork-the-template-repository",children:"Step 1: Fork the Template Repository"}),"\n",(0,i.jsx)(n.p,{children:"Start by creating your own copy of the lens-template repository:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Navigate to the template repository"}),": ",(0,i.jsx)(n.a,{href:"https://github.com/Gravitate-Health/lens-template",children:"https://github.com/Gravitate-Health/lens-template"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fork the repository"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:'"Fork"'})," button in the top-right corner of the GitHub page"]}),"\n",(0,i.jsx)(n.li,{children:"Choose your GitHub account or organization as the destination"}),"\n",(0,i.jsxs)(n.li,{children:["Optionally, customize the repository name for your specific lens (e.g., ",(0,i.jsx)(n.code,{children:"pregnancy-warning-lens"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Clone your forked repository"})," to your local development machine:"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Replace YOUR-USERNAME with your GitHub username\ngit clone https://github.com/YOUR-USERNAME/lens-template.git\n\n# Navigate into the cloned directory\ncd lens-template\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Install dependencies"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install Node.js dependencies\nnpm install\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Repository Setup",type:"note",children:[(0,i.jsx)(n.p,{children:"After forking, you have a complete development environment ready. The repository structure includes:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/"})," - Lens source code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"test/"})," - Test suite with sample ePIs and IPS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"package.json"})," - Project configuration and scripts"]}),"\n"]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"whats-included-in-the-template",children:"What's Included in the Template"}),"\n",(0,i.jsx)(n.h3,{id:"minimal-lens-implementation",children:"Minimal Lens Implementation"}),"\n",(0,i.jsxs)(n.p,{children:["The template contains a ",(0,i.jsx)(n.strong,{children:"simple, working lens"})," with minimal code that demonstrates:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Proper function structure for ",(0,i.jsx)(n.a,{href:"/reference/lee",children:"Lens Execution Environment"})," execution"]}),"\n",(0,i.jsxs)(n.li,{children:["How to access the three inputs: ",(0,i.jsx)(n.a,{href:"/reference/p-epi",children:"p(ePI)"}),", ",(0,i.jsx)(n.a,{href:"/reference/ips",children:"IPS"}),", and ",(0,i.jsx)(n.a,{href:"/reference/persona-vector",children:"Persona Vector"})]}),"\n",(0,i.jsx)(n.li,{children:"Proper handling of HTML elements without removing content"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Regulatory Compliance",type:"warning",children:(0,i.jsxs)(n.p,{children:["The template lens follows the critical constraint that ",(0,i.jsx)(n.strong,{children:"regulated ePI content cannot be removed or altered"}),". Your lens implementation must maintain this principle."]})}),"\n",(0,i.jsx)(n.h3,{id:"comprehensive-test-suite",children:"Comprehensive Test Suite"}),"\n",(0,i.jsxs)(n.p,{children:["The template includes a ",(0,i.jsx)(n.strong,{children:"complete test suite"})," designed to ensure your lens operates correctly:"]}),"\n",(0,i.jsx)(n.h4,{id:"1-content-preservation-tests",children:"1. Content Preservation Tests"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Critical validation"})," that ensures your lens does not remove or alter the original regulated content:"]}),"\n",(0,i.jsx)(n.p,{children:"These tests verify that all text from the original ePI remains accessible in the focused output."}),"\n",(0,i.jsx)(n.h4,{id:"2-sample-test-data",children:"2. Sample Test Data"}),"\n",(0,i.jsx)(n.p,{children:"The test suite provides:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sample ePIs"}),": Pre-loaded ",(0,i.jsx)(n.a,{href:"/reference/p-epi",children:"preprocessed ePIs"})," (p(ePI)) with semantic annotations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sample IPS"}),": Example ",(0,i.jsx)(n.a,{href:"/reference/ips",children:"International Patient Summary"})," resources with patient health data"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{title:"Customizable Test Data",type:"tip",children:[(0,i.jsx)(n.p,{children:"You can customize these sample resources to match your specific lens use case. For example:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add patient conditions relevant to your lens logic (e.g., pregnancy, allergies)"}),"\n",(0,i.jsx)(n.li,{children:"Include specific medications or lab results"}),"\n",(0,i.jsx)(n.li,{children:"Modify age, gender, or other persona attributes"}),"\n"]})]}),"\n",(0,i.jsx)(n.h4,{id:"3-custom-test-functions",children:"3. Custom Test Functions"}),"\n",(0,i.jsxs)(n.p,{children:["The test suite provides helper functions that enable you to build ",(0,i.jsx)(n.strong,{children:"custom tests"})," for your specific lens behavior:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"import { loadEPI, loadIPS, loadLens, applyLens, isTextHighlighted } from './lens-utils';\n\ndescribe('My Lens Custom Tests', () => {\n  const myLens = loadLens('my-lens');\n  \n  it('should highlight pregnancy warnings', async () => {\n    const epi = loadEPI('Bundle-processedbundledovato-en.json');\n    const ips = loadIPS('IPS-bundle-01.json');\n    const result = await applyLens(epi, ips, myLens);\n    \n    expect(isTextHighlighted(result.epi, 'pregnancy')).toBe(true);\n  });\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"These functions allow you to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify that specific CSS classes (",(0,i.jsx)(n.code,{children:"highlight"}),", ",(0,i.jsx)(n.code,{children:"collapse"}),") are applied correctly"]}),"\n",(0,i.jsx)(n.li,{children:"Check that supplementary HTML content is added in appropriate locations"}),"\n",(0,i.jsx)(n.li,{children:"Validate conditional logic based on patient data"}),"\n",(0,i.jsx)(n.li,{children:"Ensure proper handling of edge cases"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Read the test README file for more informaiton."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"running-tests",children:"Running Tests"}),"\n",(0,i.jsx)(n.p,{children:"Execute the test suite to validate your lens implementation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run all tests\nnpm test\n\n# Run tests in watch mode (re-runs on file changes)\nnpm test -- --watch\n\n# Run tests with coverage report\nnpm test -- --coverage\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Test-Driven Development",type:"tip",children:[(0,i.jsx)(n.p,{children:"As you develop your lens, continuously run the test suite to ensure:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"You haven't accidentally removed content"}),"\n",(0,i.jsx)(n.li,{children:"Your focusing logic works as intended"}),"\n",(0,i.jsx)(n.li,{children:"Edge cases are properly handled"}),"\n",(0,i.jsx)(n.li,{children:"Performance remains acceptable"}),"\n"]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);