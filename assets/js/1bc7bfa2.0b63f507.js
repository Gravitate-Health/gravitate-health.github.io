"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9661],{7375:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorial-Lens/Implementation strategies","title":"Basic lens structure","description":"Functions interface","source":"@site/docs/tutorial-Lens/3 - Implementation strategies.md","sourceDirName":"tutorial-Lens","slug":"/tutorial-Lens/Implementation strategies","permalink":"/docs/tutorial-Lens/Implementation strategies","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-Lens/3 - Implementation strategies.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"FHIR Metadata","permalink":"/docs/tutorial-Lens/FHIR metadata"},"next":{"title":"Deploying your lens","permalink":"/docs/tutorial-Lens/Deploying your lens"}}');var s=t(4848),r=t(8453);const o={},a="Basic lens structure",l={},c=[{value:"Functions interface",id:"functions-interface",level:2},{value:"Required and Optional Functions",id:"required-and-optional-functions",level:3},{value:"Example Structure",id:"example-structure",level:3},{value:"Implementation strategies",id:"implementation-strategies",level:2},{value:"Use of Regular Expressions",id:"use-of-regular-expressions",level:3},{value:"DOM Manipulation",id:"dom-manipulation",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Testing and Validation",id:"testing-and-validation",level:3}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"basic-lens-structure",children:"Basic lens structure"})}),"\n",(0,s.jsx)(n.h2,{id:"functions-interface",children:"Functions interface"}),"\n",(0,s.jsx)(n.p,{children:"A Lens is a JavaScript program that defines how to transform an ePI document. The basic structure of a Lens includes:"}),"\n",(0,s.jsx)(n.h3,{id:"required-and-optional-functions",children:"Required and Optional Functions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"enhance"})," function (mandatory)"]}),": This function takes the original ePI content as input and returns the transformed content. It is where you define how to modify the ePI."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"report"})," function (optional)"]}),": This function generates a report of the changes made by the enhance function. It can be used for logging or debugging purposes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"explanation"})," function (optional)"]}),": This function provides a human-readable explanation of the changes made by the enhance function. It can be useful for users to understand what modifications were applied."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-structure",children:"Example Structure"}),"\n",(0,s.jsx)(n.p,{children:"Here is a simple example of a Lens structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function enhance(originalContent) {\n    // Your transformation logic here\n    return transformedContent;\n}\n\nfunction report(changes) {\n    // Your reporting logic here\n    return reportData;\n}\n\nfunction explanation() {\n    // Your explanation logic here\n    return explanationText;\n}\n\nreturn {\n    enhance: enhance,\n    report: report,\n    explanation: explanation\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"implementation-strategies",children:"Implementation strategies"}),"\n",(0,s.jsx)(n.p,{children:"When implementing a Lens, consider the following strategies to ensure it is effective and efficient:"}),"\n",(0,s.jsx)(n.h3,{id:"use-of-regular-expressions",children:"Use of Regular Expressions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Regular expressions"})," are powerful tools for pattern matching and text manipulation. They can be used to identify specific sections of the ePI that need to be modified."]}),"\n",(0,s.jsx)(n.admonition,{title:"Example Use Case",type:"note",children:(0,s.jsx)(n.p,{children:"You can use regular expressions to find all instances of a particular term or phrase and replace them with a highlighted version."})}),"\n",(0,s.jsx)(n.h3,{id:"dom-manipulation",children:"DOM Manipulation"}),"\n",(0,s.jsxs)(n.p,{children:["If the ePI content is structured as HTML, you can use ",(0,s.jsx)(n.strong,{children:"DOM manipulation techniques"})," to traverse and modify the document. This allows for more precise control over the elements being changed, such as adding classes or attributes to specific tags."]}),"\n",(0,s.jsx)(n.admonition,{title:"Precision Control",type:"tip",children:(0,s.jsx)(n.p,{children:"DOM manipulation provides fine-grained control over HTML elements, making it ideal for targeted modifications."})}),"\n",(0,s.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,s.jsx)(n.admonition,{title:"Efficiency Requirements",type:"warning",children:(0,s.jsx)(n.p,{children:"Lenses should be designed to run efficiently, especially if they are executed on client devices with limited resources. Avoid complex computations and ensure that the enhance function executes quickly."})}),"\n",(0,s.jsx)(n.admonition,{title:"Offload Heavy Tasks",type:"tip",children:(0,s.jsx)(n.p,{children:"Consider using pre-processors for any heavy computational tasks that can be done before the Lens is applied."})}),"\n",(0,s.jsx)(n.h3,{id:"testing-and-validation",children:"Testing and Validation"}),"\n",(0,s.jsx)(n.admonition,{title:"Coming Soon",type:"caution",children:(0,s.jsx)(n.p,{children:"Testing and validation guidelines will be added in a future version of this documentation."})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);