"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4437],{8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var t=n(6540);const i={},r=t.createContext(i);function l(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:s},e.children)}},8994:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tutorial-Lens/Deploying your lens","title":"Deploying your Lens","description":"Lenses are typically deployed using a Lens selector. The Focusing Manager uses Lens selectors to securely access the available lenses.","source":"@site/docs/tutorial-Lens/4 - Deploying your lens.md","sourceDirName":"tutorial-Lens","slug":"/tutorial-Lens/Deploying your lens","permalink":"/docs/tutorial-Lens/Deploying your lens","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-Lens/4 - Deploying your lens.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Basic lens structure","permalink":"/docs/tutorial-Lens/Implementation strategies"},"next":{"title":"Testing Your Lens","permalink":"/docs/tutorial-Lens/Testing your Lens"}}');var i=n(4848),r=n(8453);const l={},o="Deploying your Lens",a={},c=[{value:"Lens Selector",id:"lens-selector",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Mechanism for Providing Lenses",id:"mechanism-for-providing-lenses",level:3},{value:"Available Lens Selectors",id:"available-lens-selectors",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"deploying-your-lens",children:"Deploying your Lens"})}),"\n",(0,i.jsx)(s.p,{children:"Lenses are typically deployed using a Lens selector. The Focusing Manager uses Lens selectors to securely access the available lenses."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"server-side-focusing"}),": To deploy your lens in the server you should ensure that it is served through one of the confifured Lens selectors."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"client-side-focusing"}),": The client should have access to the FHIR bundled lens. Thus you need to ensure this artifact is available and publish the access mechanism (e.g. throug GithHub releasess mechanism)"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"lens-selector",children:"Lens Selector"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Lens Selector"})," is a key component within the Focusing Mechanism module of the Federated Open-Source Platform and Services (FOSPS). It is implemented as an internal service that provides the actual focusing algorithms (lenses) to the platform."]}),"\n",(0,i.jsx)(s.h3,{id:"purpose",children:"Purpose"}),"\n",(0,i.jsxs)(s.p,{children:["The primary purpose of the Lens Selector is to manage and provide access to available lenses. It indexes known lenses, often from a repository, thereby letting the ",(0,i.jsx)(s.strong,{children:"Focusing Manager"})," know which lenses are available for use. This design ensures flexibility, allowing new lenses to be easily appended to the system once recognized by the selector."]}),"\n",(0,i.jsx)(s.h3,{id:"mechanism-for-providing-lenses",children:"Mechanism for Providing Lenses"}),"\n",(0,i.jsx)(s.p,{children:"The Lens Selector operates as an internal service, exposing its functionality via a REST API interface that must be compliant with the OpenAPI Specification and listens for HTTP connections."}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Discovery:"})," For the Focusing Manager to find and use the service, the Lens Selector's Kubernetes deployment must include the specific label selector: ",(0,i.jsx)(s.code,{children:'eu.gravitate-health.fosps.focusing: "True"'}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Listing:"})," The Lens Selector first lists the available lenses and their metadata to the Focusing Manager."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Delivery:"})," When the Focusing Manager (or the requesting client via the Focusing Manager) requests a specific lens by name, the Lens Selector service sends the corresponding lens code and its accompanying metadata. The Focusing Manager orchestrates this interaction internally."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"available-lens-selectors",children:"Available Lens Selectors"}),"\n",(0,i.jsx)(s.p,{children:"The current implementations of lens selectors are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://github.com/Gravitate-Health/lens-selector-fhir",children:"Lens Selector FHIR"})}),": performs a FHIR query against a FHIR server to find the lens. Lenses should be pushed to this server to be deployed."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://github.com/Gravitate-Health/lens-selector-file",children:"Lens Selector File"})}),": Looks for valid lenses in a local folder, looking for ",(0,i.jsx)(s.code,{children:".json"})," files. If a lens is missing its code, it will attempt to bundle js code from a similarly named file."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://github.com/Gravitate-Health/lens-selector-git",children:"Lens Selector GIT"})}),": same as the Lens Selector File, but it clones and maintains updated a git repository."]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);