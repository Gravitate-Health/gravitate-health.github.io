"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5190],{8453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>o});var s=n(6540);const i={},l=s.createContext(i);function c(e){const r=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(l.Provider,{value:r},e.children)}},9354:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"focusing-flows","title":"Focusing Flows","description":"Focusing Flows are the four defined methods for invoking the Focusing process in FOSPS, based on how ePI and IPS/PV data are provided.","source":"@site/ref/focusing-flows.md","sourceDirName":".","slug":"/focusing-flows","permalink":"/reference/focusing-flows","draft":false,"unlisted":false,"editUrl":"https://github.com/gravitate-health/gravitate-health.github.io/tree/main/ref/focusing-flows.md","tags":[{"inline":true,"label":"focusing","permalink":"/reference/tags/focusing"},{"inline":true,"label":"api","permalink":"/reference/tags/api"},{"inline":true,"label":"workflow-patterns","permalink":"/reference/tags/workflow-patterns"}],"version":"current","sidebarPosition":39,"frontMatter":{"sidebar_position":39,"title":"Focusing Flows","tags":["focusing","api","workflow-patterns"]},"sidebar":"tutorialSidebar","previous":{"title":"Attention Detail Modification","permalink":"/reference/attention-modification"},"next":{"title":"CTF (Content Trust Framework)","permalink":"/reference/ctf"}}');var i=n(4848),l=n(8453);const c={sidebar_position:39,title:"Focusing Flows",tags:["focusing","api","workflow-patterns"]},o="Focusing Flows",d={},a=[{value:"The Four Flows",id:"the-four-flows",level:2},{value:"Flow 1: ePI ID + IPS ID",id:"flow-1-epi-id--ips-id",level:3},{value:"Flow 2: ePI JSON + IPS JSON",id:"flow-2-epi-json--ips-json",level:3},{value:"Flow 3: ePI ID + IPS JSON",id:"flow-3-epi-id--ips-json",level:3},{value:"Flow 4: ePI JSON + IPS ID",id:"flow-4-epi-json--ips-id",level:3},{value:"Common Elements",id:"common-elements",level:2},{value:"API Design",id:"api-design",level:2},{value:"Selection Criteria",id:"selection-criteria",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function t(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"focusing-flows",children:"Focusing Flows"})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Focusing Flows"})," are the four defined methods for invoking the ",(0,i.jsx)(r.a,{href:"/reference/focusing",children:"Focusing"})," process in ",(0,i.jsx)(r.a,{href:"/reference/fosps",children:"FOSPS"}),", based on how ",(0,i.jsx)(r.a,{href:"/reference/epi",children:"ePI"})," and ",(0,i.jsx)(r.a,{href:"/reference/ips",children:"IPS"}),"/",(0,i.jsx)(r.a,{href:"/reference/persona-vector",children:"PV"})," data are provided."]}),"\n",(0,i.jsx)(r.h2,{id:"the-four-flows",children:"The Four Flows"}),"\n",(0,i.jsx)(r.h3,{id:"flow-1-epi-id--ips-id",children:"Flow 1: ePI ID + IPS ID"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Request contains"}),": Resource identifiers"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "epiId": "bundle-epi-123",\n  "ipsId": "bundle-ips-456"\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Process"}),":"]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," retrieves ePI from ",(0,i.jsx)(r.a,{href:"/reference/fhir-server",children:"FHIR Server"})]}),"\n",(0,i.jsx)(r.li,{children:"Retrieves IPS from FHIR Server"}),"\n",(0,i.jsx)(r.li,{children:"Retrieves PV from FHIR Server (if available)"}),"\n",(0,i.jsxs)(r.li,{children:["Invokes ",(0,i.jsx)(r.a,{href:"/reference/preprocessor",children:"Preprocessors"})," for ",(0,i.jsx)(r.a,{href:"/reference/p-epi",children:"p(ePI)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Calls ",(0,i.jsx)(r.a,{href:"/reference/lee",children:"LEE"})," for ",(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Use case"}),": Both resources already cached in platform"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h3,{id:"flow-2-epi-json--ips-json",children:"Flow 2: ePI JSON + IPS JSON"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Request contains"}),": Full FHIR resources"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "epi": { "resourceType": "Bundle", ... },\n  "ips": { "resourceType": "Bundle", ... },\n  "pv": { "resourceType": "Bundle", ... }\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Process"}),":"]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," receives complete resources"]}),"\n",(0,i.jsxs)(r.li,{children:["Invokes ",(0,i.jsx)(r.a,{href:"/reference/preprocessor",children:"Preprocessors"})," for ",(0,i.jsx)(r.a,{href:"/reference/p-epi",children:"p(ePI)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Calls ",(0,i.jsx)(r.a,{href:"/reference/lee",children:"LEE"})," for ",(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Use case"}),": Client-side focusing, external data sources, privacy-preserving workflows"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h3,{id:"flow-3-epi-id--ips-json",children:"Flow 3: ePI ID + IPS JSON"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Request contains"}),": Mixed identifiers and resources"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "epiId": "bundle-epi-123",\n  "ips": { "resourceType": "Bundle", ... }\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Process"}),":"]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," retrieves ePI from ",(0,i.jsx)(r.a,{href:"/reference/fhir-server",children:"FHIR Server"})]}),"\n",(0,i.jsx)(r.li,{children:"Uses provided IPS JSON"}),"\n",(0,i.jsxs)(r.li,{children:["Invokes ",(0,i.jsx)(r.a,{href:"/reference/preprocessor",children:"Preprocessors"})," for ",(0,i.jsx)(r.a,{href:"/reference/p-epi",children:"p(ePI)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Calls ",(0,i.jsx)(r.a,{href:"/reference/lee",children:"LEE"})," for ",(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Use case"}),": ePI cached, IPS from external system"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h3,{id:"flow-4-epi-json--ips-id",children:"Flow 4: ePI JSON + IPS ID"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Request contains"}),": Mixed resources and identifiers"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "epi": { "resourceType": "Bundle", ... },\n  "ipsId": "bundle-ips-456"\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Process"}),":"]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," uses provided ePI JSON"]}),"\n",(0,i.jsxs)(r.li,{children:["Retrieves IPS from ",(0,i.jsx)(r.a,{href:"/reference/fhir-server",children:"FHIR Server"})]}),"\n",(0,i.jsxs)(r.li,{children:["Invokes ",(0,i.jsx)(r.a,{href:"/reference/preprocessor",children:"Preprocessors"})," for ",(0,i.jsx)(r.a,{href:"/reference/p-epi",children:"p(ePI)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Calls ",(0,i.jsx)(r.a,{href:"/reference/lee",children:"LEE"})," for ",(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Use case"}),": ePI from external source, IPS cached in platform"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"common-elements",children:"Common Elements"}),"\n",(0,i.jsx)(r.p,{children:"All flows:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Support optional ",(0,i.jsx)(r.a,{href:"/reference/persona-vector",children:"Persona Vector"})," input"]}),"\n",(0,i.jsxs)(r.li,{children:["Return ",(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})," as output"]}),"\n",(0,i.jsxs)(r.li,{children:["Execute via ",(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," API"]}),"\n",(0,i.jsx)(r.li,{children:"Follow same preprocessing and lens execution steps"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"api-design",children:"API Design"}),"\n",(0,i.jsxs)(r.p,{children:["Flows exposed via ",(0,i.jsx)(r.a,{href:"/reference/openapi",children:"OpenAPI"})," documented endpoints:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"POST /focusing/flow1\nPOST /focusing/flow2\nPOST /focusing/flow3\nPOST /focusing/flow4\n"})}),"\n",(0,i.jsx)(r.p,{children:"Or unified endpoint with request body discrimination:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"POST /focusing\n"})}),"\n",(0,i.jsx)(r.h2,{id:"selection-criteria",children:"Selection Criteria"}),"\n",(0,i.jsx)(r.p,{children:"Choose flow based on:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Data location"}),": Cached vs. external"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Privacy requirements"}),": Keep IPS client-side"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Performance"}),": Avoid unnecessary transfers"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Integration"}),": Match external system capabilities"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing",children:"Focusing"})," - Overall process"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/focusing-manager",children:"Focusing Manager"})," - Orchestrator"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/epi",children:"ePI"})," - Product information"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/ips",children:"IPS"})," - Patient data"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/persona-vector",children:"Persona Vector"})," - User context"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/f-epi",children:"f(ePI)"})," - Output"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/reference/fhir-server",children:"FHIR Server"})," - Resource storage"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);