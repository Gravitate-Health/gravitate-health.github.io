<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-Preprocessor/Basic Annotation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Basic ePI Annotation | Gravitate Health | Developer Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gravitate-health.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gravitate-health.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gravitate-health.github.io/docs/tutorial-Preprocessor/Basic Annotation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Basic ePI Annotation | Gravitate Health | Developer Documentation"><meta data-rh="true" name="description" content="Semantic annotations in ePIs are embedded syntactically within the FHIR resource using markup language, specifically leveraging the HTML already present in the ePI&#x27;s narrative content. The core component for achieving this is the HtmlElementLink Extension."><meta data-rh="true" property="og:description" content="Semantic annotations in ePIs are embedded syntactically within the FHIR resource using markup language, specifically leveraging the HTML already present in the ePI&#x27;s narrative content. The core component for achieving this is the HtmlElementLink Extension."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gravitate-health.github.io/docs/tutorial-Preprocessor/Basic Annotation"><link data-rh="true" rel="alternate" href="https://gravitate-health.github.io/docs/tutorial-Preprocessor/Basic Annotation" hreflang="en"><link data-rh="true" rel="alternate" href="https://gravitate-health.github.io/docs/tutorial-Preprocessor/Basic Annotation" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e7b2a1c8.css">
<script src="/assets/js/runtime~main.cd309924.js" defer="defer"></script>
<script src="/assets/js/main.0e3209e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Graviatate-Health" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Graviatate-Health" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Gravitate-Health FOSPS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gravitate-health" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introducing FOSPS: Your Gateway to Innovative Digital Health Solutions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---connector">Tutorial - Connector</a><button aria-label="Expand sidebar category &#x27;Tutorial - Connector&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/tutorial---preprocessor">Tutorial - Preprocessor</a><button aria-label="Collapse sidebar category &#x27;Tutorial - Preprocessor&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Develop a Basic Preprocessor">Develop a Basic Preprocessor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial-Preprocessor/Basic Annotation">Basic ePI Annotation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Deploying your Preprocessor">Deploying your Preprocessor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Testing your Preprocessor">Testing your Preprocessor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-Preprocessor/Implementation Strategies">Implementation Strategies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---lens">Tutorial - Lens</a><button aria-label="Expand sidebar category &#x27;Tutorial - Lens&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/tutorial---preprocessor"><span itemprop="name">Tutorial - Preprocessor</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Basic ePI Annotation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Basic ePI Annotation</h1></header>
<p>Semantic annotations in ePIs are embedded syntactically within the FHIR resource using markup language, specifically leveraging the HTML already present in the ePI&#x27;s narrative content. The core component for achieving this is the <a href="https://build.fhir.org/ig/hl7-eu/gravitate-health/StructureDefinition-HtmlElementLink.html" target="_blank" rel="noopener noreferrer"><code>HtmlElementLink</code> Extension</a>.</p>
<p>The <code>HtmlElementLink</code> is a complex Extension designed for adding information to ePIs in the FHIR format, offering flexibility to include pictograms, images, video, or other types of information. This extension is used on the FHIR <code>Composition</code> resource, which is the core resource for holding the narrative text of the ePI, also known as the Patient Information Leaflet (PIL).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="htmlelementlink-structure"><code>HtmlElementLink</code> Structure<a href="#htmlelementlink-structure" class="hash-link" aria-label="Direct link to htmlelementlink-structure" title="Direct link to htmlelementlink-structure">​</a></h2>
<p>This extension is composed of several nested elements, providing a structure to define the annotation and link it to terminology:</p>
<ol>
<li>
<p><code>extension:elementClass</code> (The Annotation Name)</p>
<ul>
<li><strong>Purpose:</strong> This component dictates the location in the HTML where the annotation applies.</li>
<li><strong>Role in Annotation:</strong> It defines the name of the annotation.</li>
<li><strong>Data Type:</strong> Its value is a <code>stringValue</code>.</li>
</ul>
</li>
<li>
<p><code>extension:concept</code> (The Terminology Code)</p>
<ul>
<li><strong>Purpose:</strong> This component holds the data to be used for the annotation.</li>
<li><strong>Role in Annotation:</strong> It typically represents a code from a standard terminology (e.g., SNOMED-CT) associated with the annotated text.</li>
<li><strong>Data Type Flexibility:</strong> The concept value (<code>value[x]</code>) is highly flexible and can be a:<!-- -->
<ul>
<li><code>base64Binary</code>.</li>
<li><code>stringValue</code>.</li>
<li><code>url</code>.</li>
<li><code>CodeableReference</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>extension:type</code> (The Data Type)</p>
<ul>
<li><strong>Purpose:</strong> This component specifies the type of data being linked, such as image, video, or text.</li>
<li><strong>Data Type:</strong> Its value is a <code>CodeableConcept</code>.</li>
</ul>
</li>
</ol>
<p>Preprocessors may need to add <code>HtmlElementLink</code> extensions so that the composition of the ePI contains all concepts the preprocessor is about to add to the narrative text.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="linking-the-annotation-to-the-narrative-text">Linking the Annotation to the Narrative Text<a href="#linking-the-annotation-to-the-narrative-text" class="hash-link" aria-label="Direct link to Linking the Annotation to the Narrative Text" title="Direct link to Linking the Annotation to the Narrative Text">​</a></h2>
<p>The crucial step for Preprocessors is understanding how the metadata defined in the <code>HtmlElementLink</code> extension in the FHIR Composition resource links to the actual human-readable narrative text within that Composition.</p>
<ol>
<li><strong>The Linkage Mechanism:</strong> The linkage is established by using the <code>elementClass</code> value (the annotation name) and applying it as an HTML <code>class</code> attribute within the Composition&#x27;s narrative content.</li>
<li><strong>HTML Location:</strong> Preprocessors modify the embedded HTML code in the FHIR resource by adding this class attribute to the appropriate HTML tags that encompass the target text segment.</li>
<li><strong>Target Elements:</strong> Annotation is performed by selecting portions of text for reference. This typically involves utilizing existing HTML tags like headers (<code>&lt;H1&gt;</code>), lists (<code>&lt;UL&gt;</code>, <code>&lt;IL&gt;</code>), parragraphs (<code>&lt;P&gt;</code>), or by wrapping arbitrary text sections using <code>&lt;span&gt;</code> tags.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-illustration-conceptual">Example Illustration (Conceptual)<a href="#example-illustration-conceptual" class="hash-link" aria-label="Direct link to Example Illustration (Conceptual)" title="Direct link to Example Illustration (Conceptual)">​</a></h2>
<p>Imagine a Preprocessor identifies a section of text discussing &quot;Drug X and Pregnancy&quot; that relates to the SNOMED code for &#x27;Pregnancy Status&#x27;.</p>
<ol>
<li>
<p><strong>Preprocessor creates the <code>HtmlElementLink</code> extension metadata:</strong></p>
<ul>
<li><code>extension:elementClass</code> might be set to: <code>&quot;pregnancy-category-D&quot;</code></li>
<li><code>extension:concept</code> might link to the SNOMED-CT code for Pregnancy.</li>
</ul>
</li>
<li>
<p><strong>Preprocessor modifies the ePI narrative HTML:</strong>
The Preprocessor finds the relevant paragraph in the Composition&#x27;s narrative (which contains the raw text) and modifies its HTML to include the defined <code>elementClass</code> as a <code>class</code> attribute:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">pregnancy-category-D</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Studies in women have demonstrated a risk to the fetus that outweighs the benefit.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>The existence of the <code>HtmlElementLink</code> entry in the Composition metadata, coupled with the matching HTML <code>class</code> attribute in the narrative text, constitutes the complete semantic annotation, resulting in the preprocessed ePI (p(ePI)). This semantic tag allows subsequent focusing Lenses to apply logic (such as highlighting or collapsing) based on the patient&#x27;s context (e.g., if the patient&#x27;s IPS/PV indicates pregnancy status).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="practical-example-in-fhirjson">Practical Example in FHIR+JSON<a href="#practical-example-in-fhirjson" class="hash-link" aria-label="Direct link to Practical Example in FHIR+JSON" title="Direct link to Practical Example in FHIR+JSON">​</a></h3>
<p>The Implementation Guide of Graviate-Health, already provides <a href="https://build.fhir.org/ig/hl7-eu/gravitate-health/artifacts.html#processed-epi" target="_blank" rel="noopener noreferrer">functional examples of Preprocessed ePIs</a>.</p>
<p>Let&#x27;s look into <a href="https://build.fhir.org/ig/hl7-eu/gravitate-health/Bundle-processedbundlekarveabik.json.html" target="_blank" rel="noopener noreferrer">one of these examples</a> in detail to highligh how the annotation is performed.</p>
<ol>
<li>In the composition extensions we find:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;resourceType&quot; : &quot;Bundle&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;entry&quot; : [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;resource&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;resourceType&quot; : &quot;Composition&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;extension&quot; : [,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extension&quot; : [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;url&quot; : &quot;elementClass&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;valueString&quot; : &quot;pregnancyCategory&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;url&quot; : &quot;concept&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;valueCodeableReference&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;concept&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;coding&quot; : [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;system&quot; : &quot;https://icpc2.icd.com/&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;code&quot; : &quot;W78&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;display&quot; : &quot;Pregnancy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;url&quot; : &quot;http://hl7.eu/fhir/ig/gravitate-health/StructureDefinition/HtmlElementLink&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>later in the text we find references to this <code>elementClass</code> applying the concept to a <code>&lt;DIV&gt;</code> tag, the following snippet can be found in path <code>entry[0].resource.text.div</code>, and <code>entry[0].resource.section[0].section[3].text.div</code>:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div class=\&quot;pregnancyCategory\&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;p&gt;&lt;strong&gt;Pregnancy and breast-feeding&lt;/strong&gt;&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;li&gt;If you are pregnant or breast-feeding, think you may be pregnant or are planning to have a baby, ask your doctor or pharmacist for advice before taking this medicine.&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;li&gt;Tell your doctor immediately if you become pregnant and ask about the potential benefits and risks of your antiretroviral therapy to you and your child.&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;p&gt;If you have taken Biktarvy during your pregnancy, your doctor may request regular blood tests and other diagnostic tests to monitor the development of your child. In children whose mothers took nucleoside reverse transcriptase inhibitors (NRTIs) during pregnancy, the benefit from the protection against HIV outweighed the risk of side effects.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;div class=\&quot;breastfeedingCategory\&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;p&gt;&lt;strong&gt;Do not breast-feed during treatment with Biktarvy.&lt;/strong&gt; This is because some of the active substances in this medicine pass into human breast milk. Breast-feeding is not recommended in women living with HIV because HIV infection can be passed on to the baby in breast milk. If you are breast-feeding, or thinking about breast-feeding, you should discuss it with your doctor as soon as possible.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/gravitate-health/gravitate-health.github.io/tree/main/docs/tutorial-Preprocessor/2 - Basic Annotation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial-Preprocessor/Develop a Basic Preprocessor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Develop a Basic Preprocessor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial-Preprocessor/Deploying your Preprocessor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying your Preprocessor</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#htmlelementlink-structure" class="table-of-contents__link toc-highlight"><code>HtmlElementLink</code> Structure</a></li><li><a href="#linking-the-annotation-to-the-narrative-text" class="table-of-contents__link toc-highlight">Linking the Annotation to the Narrative Text</a></li><li><a href="#example-illustration-conceptual" class="table-of-contents__link toc-highlight">Example Illustration (Conceptual)</a><ul><li><a href="#practical-example-in-fhirjson" class="table-of-contents__link toc-highlight">Practical Example in FHIR+JSON</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/gravitatehealth" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/gravitatehealth" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/graviate-heath" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Gravitate Health, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>